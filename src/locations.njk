---
layout: base.njk
title: Locations
---

<h1>Locations</h1>
<p class="subtitle">{{ indices.locations.length }} locations mentioned across documents</p>

<div class="search-box">
  <input type="text" id="search" placeholder="Search locations...">
</div>

<div id="results">
  {% for loc in indices.locations %}
  <div class="section" id="{{ loc.name | slugify }}">
    <h2>{{ loc.name }}</h2>
    <p>Mentioned in {{ loc.count }} documents</p>

    <div style="margin-top: 1rem;">
      {% for doc in loc.docs %}
      <div class="document-card">
        <h4>Document {{ doc.document_number }}</h4>
        <div class="meta">
          {% if doc.document_metadata.document_type %}Type: {{ doc.document_metadata.document_type }} | {% endif %}
          {% if doc.document_metadata.date %}Date: {{ doc.document_metadata.date }} | {% endif %}
          Pages: {{ doc.page_count }}
        </div>
        <a href="/document/{{ doc.unique_id | slugify }}/" style="font-size: 0.9rem;">View document â†’</a>
      </div>
      {% endfor %}
    </div>
  </div>
  {% endfor %}
</div>

<script>
  const search = document.getElementById('search');
  const results = document.getElementById('results');

  search.addEventListener('input', (e) => {
    const query = e.target.value.toLowerCase();
    const sections = results.querySelectorAll('.section');

    sections.forEach(section => {
      const title = section.querySelector('h2').textContent.toLowerCase();
      section.style.display = title.includes(query) ? 'block' : 'none';
    });
  });
</script>
